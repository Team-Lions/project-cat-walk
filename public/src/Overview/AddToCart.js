import React from 'react';
import SizeSelector from './SizeSelector.jsx';
import QuantitySelector from './QuantitySelector.jsx';
import token from './token.jsx';
import axios from 'axios';

class AddToCart extends React.Component {
  //expects props to contain object called skus
  constructor(props) {
    super(props);
    this.state = {
      sizeFirstSkus: {},
      sizes: [],
      sizeSelection: '',
      quantityEnabled: false,
      quantityAvailable: 0,
      quantitySelection: null
    };
  }

  changeSize(e) {
    // if this is the first slection away formthe default, remove "Select Size as an option"
    if (document.getElementById('size').options[0].value === 'Select Size') {
      document.getElementById('size').remove(0);
    }

    var newSize = e.target.value;
    document.getElementById('quantity').value = 1;
    this.setState({
      sizeSelection: newSize,
      quantityEnabled: true,
      quantityAvailable: this.state.sizeFirstSkus[newSize].quantity,
      quantitySelection: 1
    });
  }

  changeQuantity(e) {
    var newQuantity = e.target.value;
    this.setState({
      quantitySelection: newQuantity
    });
  }

  enforceSizeSelection(e) {
    //opens size dropdown
    //displays a message that says "Please select size"
    //come back to this if time to figure out how to open the dropdown and display a more graceful message
    alert('Please select size');
  }

  addToCart(e) {
    //may not be working properly. Will have to test again when I have a real SKU instead of dummy data
    var sku_id = Number.parseInt(this.state.sizeFirstSkus[this.state.sizeSelection].sku_id);
    axios({
      method: 'post',
      url: 'https://app-hrsei-api.herokuapp.com/api/fec2/hratx/cart',
      data: {
        sku_id: sku_id,
        count: this.state.quantitySelection
      },
      headers: {
        'Authorization': token
      }
    }).then(() => {
      console.log('added to cart');
    }).catch(err => {
      console.log('error');
      throw err;
    });
  }

  componentDidMount() {
    //populates sizeFirstSkus and sizes objects
    var sizeFirstSkus = {};
    var size, quantity;

    for (var k in this.props.skus) {
      size = this.props.skus[k].size;
      quantity = this.props.skus[k].quantity;
      sizeFirstSkus[size] = {
        sku_id: k,
        quantity: quantity
      };
    }

    this.setState({
      sizeFirstSkus: sizeFirstSkus,
      sizes: Object.keys(sizeFirstSkus)
    });
  }

  render() {
    return /*#__PURE__*/React.createElement("div", null, this.state.sizes.length === 0 ? /*#__PURE__*/React.createElement("select", {
      id: "size",
      name: "size",
      disabled: true
    }, /*#__PURE__*/React.createElement("option", null, "OUT OF STOCK")) : /*#__PURE__*/React.createElement(SizeSelector, {
      sizes: this.state.sizes,
      change: this.changeSize.bind(this)
    }), this.state.quantityEnabled ? /*#__PURE__*/React.createElement(QuantitySelector, {
      quantityAvailable: this.state.quantityAvailable,
      change: this.changeQuantity.bind(this)
    }) : /*#__PURE__*/React.createElement("select", {
      id: "quantity",
      name: "quantity",
      disabled: true
    }, /*#__PURE__*/React.createElement("option", null, "-")), this.state.sizes.length > 0 ? this.state.sizeSelection === "" ?
    /*#__PURE__*/

    /* there is quantity, but size is not selected. Button opens dropdown display message */
    React.createElement("button", {
      onClick: this.enforceSizeSelection.bind(this)
    }, "Add to Cart") :
    /*#__PURE__*/

    /* quantity and size selected. Button adds to cart */
    React.createElement("button", {
      onClick: this.addToCart.bind(this)
    }, "Add to Cart") :
    /*#__PURE__*/

    /* hide button */
    React.createElement("button", {
      style: {
        visibility: 'hidden'
      }
    }, "Add to Cart"));
  }

}

;
export default AddToCart;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NsaWVudC9zcmMvT3ZlcnZpZXcvQWRkVG9DYXJ0LmpzeCJdLCJuYW1lcyI6WyJSZWFjdCIsIlNpemVTZWxlY3RvciIsIlF1YW50aXR5U2VsZWN0b3IiLCJ0b2tlbiIsImF4aW9zIiwiQWRkVG9DYXJ0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwic2l6ZUZpcnN0U2t1cyIsInNpemVzIiwic2l6ZVNlbGVjdGlvbiIsInF1YW50aXR5RW5hYmxlZCIsInF1YW50aXR5QXZhaWxhYmxlIiwicXVhbnRpdHlTZWxlY3Rpb24iLCJjaGFuZ2VTaXplIiwiZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvcHRpb25zIiwidmFsdWUiLCJyZW1vdmUiLCJuZXdTaXplIiwidGFyZ2V0Iiwic2V0U3RhdGUiLCJxdWFudGl0eSIsImNoYW5nZVF1YW50aXR5IiwibmV3UXVhbnRpdHkiLCJlbmZvcmNlU2l6ZVNlbGVjdGlvbiIsImFsZXJ0IiwiYWRkVG9DYXJ0Iiwic2t1X2lkIiwiTnVtYmVyIiwicGFyc2VJbnQiLCJtZXRob2QiLCJ1cmwiLCJkYXRhIiwiY291bnQiLCJoZWFkZXJzIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImNvbXBvbmVudERpZE1vdW50Iiwic2l6ZSIsImsiLCJza3VzIiwiT2JqZWN0Iiwia2V5cyIsInJlbmRlciIsImxlbmd0aCIsImJpbmQiLCJ2aXNpYmlsaXR5Il0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsT0FBT0MsWUFBUCxNQUF5QixvQkFBekI7QUFDQSxPQUFPQyxnQkFBUCxNQUE2Qix3QkFBN0I7QUFDQSxPQUFPQyxLQUFQLE1BQWtCLGFBQWxCO0FBQ0EsT0FBT0MsS0FBUCxNQUFrQixPQUFsQjs7QUFFQSxNQUFNQyxTQUFOLFNBQXdCTCxLQUFLLENBQUNNLFNBQTlCLENBQXdDO0FBQ3RDO0FBQ0FDLEVBQUFBLFdBQVcs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LENBQVdHLGFBQVgsS0FBNkIsRUFBN0I7QUFBQTs7QUFDRTtBQUNBO0FBQVEsTUFBQSxPQUFPLEVBQUUsS0FBS2lCLG9CQUFMLENBQTBCd0IsSUFBMUIsQ0FBK0IsSUFBL0I7QUFBakIscUJBRkY7QUFBQTs7QUFJRTtBQUNBO0FBQVEsTUFBQSxPQUFPLEVBQUUsS0FBS3RCLFNBQUwsQ0FBZXNCLElBQWYsQ0FBb0IsSUFBcEI7QUFBakIscUJBTkg7QUFBQTs7QUFRQztBQUNBO0FBQVEsTUFBQSxLQUFLLEVBQUU7QUFBQ0MsUUFBQUEsVUFBVSxFQUFFO0FBQWI7QUFBZixxQkF4QkosQ0FERjtBQTZCRDs7QUFsSHFDOztBQW1IdkM7QUFFRCxlQUFlakQsU0FBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2l6ZVNlbGVjdG9yIGZyb20gJy4vU2l6ZVNlbGVjdG9yLmpzeCc7XG5pbXBvcnQgUXVhbnRpdHlTZWxlY3RvciBmcm9tICcuL1F1YW50aXR5U2VsZWN0b3IuanN4JztcbmltcG9ydCB0b2tlbiBmcm9tICcuL3Rva2VuLmpzeCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jbGFzcyBBZGRUb0NhcnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvL2V4cGVjdHMgcHJvcHMgdG8gY29udGFpbiBvYmplY3QgY2FsbGVkIHNrdXNcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNpemVGaXJzdFNrdXM6IHt9LFxuICAgICAgc2l6ZXM6IFtdLFxuICAgICAgc2l6ZVNlbGVjdGlvbjogJycsXG4gICAgICBxdWFudGl0eUVuYWJsZWQ6IGZhbHNlLFxuICAgICAgcXVhbnRpdHlBdmFpbGFibGU6IDAsXG4gICAgICBxdWFudGl0eVNlbGVjdGlvbjogbnVsbFxuICAgIH07XG4gIH1cblxuICBjaGFuZ2VTaXplKGUpIHtcbiAgICAvLyBpZiB0aGlzIGlzIHRoZSBmaXJzdCBzbGVjdGlvbiBhd2F5IGZvcm10aGUgZGVmYXVsdCwgcmVtb3ZlIFwiU2VsZWN0IFNpemUgYXMgYW4gb3B0aW9uXCJcbiAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2l6ZScpLm9wdGlvbnNbMF0udmFsdWUgPT09ICdTZWxlY3QgU2l6ZScpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaXplJykucmVtb3ZlKDApO1xuICAgIH1cbiAgICB2YXIgbmV3U2l6ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWFudGl0eScpLnZhbHVlID0gMTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNpemVTZWxlY3Rpb246IG5ld1NpemUsXG4gICAgICBxdWFudGl0eUVuYWJsZWQ6IHRydWUsXG4gICAgICBxdWFudGl0eUF2YWlsYWJsZTogdGhpcy5zdGF0ZS5zaXplRmlyc3RTa3VzW25ld1NpemVdLnF1YW50aXR5LFxuICAgICAgcXVhbnRpdHlTZWxlY3Rpb246IDFcbiAgICB9KTtcbiAgfVxuXG4gIGNoYW5nZVF1YW50aXR5KGUpIHtcbiAgICB2YXIgbmV3UXVhbnRpdHkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHF1YW50aXR5U2VsZWN0aW9uOiBuZXdRdWFudGl0eVxuICAgIH0pO1xuICB9XG5cbiAgZW5mb3JjZVNpemVTZWxlY3Rpb24oZSkge1xuICAgIC8vb3BlbnMgc2l6ZSBkcm9wZG93blxuICAgIC8vZGlzcGxheXMgYSBtZXNzYWdlIHRoYXQgc2F5cyBcIlBsZWFzZSBzZWxlY3Qgc2l6ZVwiXG4gICAgLy9jb21lIGJhY2sgdG8gdGhpcyBpZiB0aW1lIHRvIGZpZ3VyZSBvdXQgaG93IHRvIG9wZW4gdGhlIGRyb3Bkb3duIGFuZCBkaXNwbGF5IGEgbW9yZSBncmFjZWZ1bCBtZXNzYWdlXG4gICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3Qgc2l6ZScpO1xuICB9XG5cbiAgYWRkVG9DYXJ0KGUpIHtcbiAgICAvL21heSBub3QgYmUgd29ya2luZyBwcm9wZXJseS4gV2lsbCBoYXZlIHRvIHRlc3QgYWdhaW4gd2hlbiBJIGhhdmUgYSByZWFsIFNLVSBpbnN0ZWFkIG9mIGR1bW15IGRhdGFcbiAgICB2YXIgc2t1X2lkID0gTnVtYmVyLnBhcnNlSW50KHRoaXMuc3RhdGUuc2l6ZUZpcnN0U2t1c1t0aGlzLnN0YXRlLnNpemVTZWxlY3Rpb25dLnNrdV9pZCk7XG4gICAgYXhpb3Moe1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICB1cmw6ICdodHRwczovL2FwcC1ocnNlaS1hcGkuaGVyb2t1YXBwLmNvbS9hcGkvZmVjMi9ocmF0eC9jYXJ0JyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2t1X2lkOiBza3VfaWQsXG4gICAgICAgIGNvdW50OiB0aGlzLnN0YXRlLnF1YW50aXR5U2VsZWN0aW9uXG4gICAgICB9LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnYWRkZWQgdG8gY2FydCcpXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvL3BvcHVsYXRlcyBzaXplRmlyc3RTa3VzIGFuZCBzaXplcyBvYmplY3RzXG4gICAgdmFyIHNpemVGaXJzdFNrdXMgPSB7fTtcbiAgICB2YXIgc2l6ZSwgcXVhbnRpdHk7XG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnByb3BzLnNrdXMpIHtcbiAgICAgIHNpemUgPSB0aGlzLnByb3BzLnNrdXNba10uc2l6ZTtcbiAgICAgIHF1YW50aXR5ID0gdGhpcy5wcm9wcy5za3VzW2tdLnF1YW50aXR5O1xuICAgICAgc2l6ZUZpcnN0U2t1c1tzaXplXSA9IHtcbiAgICAgICAgc2t1X2lkOiBrLFxuICAgICAgICBxdWFudGl0eTogcXVhbnRpdHlcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2l6ZUZpcnN0U2t1czogc2l6ZUZpcnN0U2t1cyxcbiAgICAgIHNpemVzOiBPYmplY3Qua2V5cyhzaXplRmlyc3RTa3VzKVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5zaXplcy5sZW5ndGggPT09IDAgP1xuICAgICAgICAgIDxzZWxlY3QgaWQ9XCJzaXplXCIgbmFtZT1cInNpemVcIiBkaXNhYmxlZD5cbiAgICAgICAgICAgIDxvcHRpb24+T1VUIE9GIFNUT0NLPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgOlxuICAgICAgICAgIDxTaXplU2VsZWN0b3Igc2l6ZXM9e3RoaXMuc3RhdGUuc2l6ZXN9IGNoYW5nZT17dGhpcy5jaGFuZ2VTaXplLmJpbmQodGhpcyl9Lz5cbiAgICAgICAgfVxuICAgICAgICB7dGhpcy5zdGF0ZS5xdWFudGl0eUVuYWJsZWQgP1xuICAgICAgICAgIDxRdWFudGl0eVNlbGVjdG9yIHF1YW50aXR5QXZhaWxhYmxlPXt0aGlzLnN0YXRlLnF1YW50aXR5QXZhaWxhYmxlfSBjaGFuZ2U9e3RoaXMuY2hhbmdlUXVhbnRpdHkuYmluZCh0aGlzKX0vPlxuICAgICAgICAgIDpcbiAgICAgICAgICA8c2VsZWN0IGlkPVwicXVhbnRpdHlcIiBuYW1lPVwicXVhbnRpdHlcIiBkaXNhYmxlZD5cbiAgICAgICAgICAgIDxvcHRpb24+LTwvb3B0aW9uPlxuICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICB9XG4gICAgICAgIHt0aGlzLnN0YXRlLnNpemVzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2l6ZVNlbGVjdGlvbiA9PT0gXCJcIiA/XG4gICAgICAgICAgICAvKiB0aGVyZSBpcyBxdWFudGl0eSwgYnV0IHNpemUgaXMgbm90IHNlbGVjdGVkLiBCdXR0b24gb3BlbnMgZHJvcGRvd24gZGlzcGxheSBtZXNzYWdlICovXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuZW5mb3JjZVNpemVTZWxlY3Rpb24uYmluZCh0aGlzKX0+QWRkIHRvIENhcnQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIC8qIHF1YW50aXR5IGFuZCBzaXplIHNlbGVjdGVkLiBCdXR0b24gYWRkcyB0byBjYXJ0ICovXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuYWRkVG9DYXJ0LmJpbmQodGhpcyl9PkFkZCB0byBDYXJ0PC9idXR0b24+XG4gICAgICAgICAgOlxuICAgICAgICAgIC8qIGhpZGUgYnV0dG9uICovXG4gICAgICAgICAgPGJ1dHRvbiBzdHlsZT17e3Zpc2liaWxpdHk6ICdoaWRkZW4nfX0+QWRkIHRvIENhcnQ8L2J1dHRvbj5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBZGRUb0NhcnQ7Il19